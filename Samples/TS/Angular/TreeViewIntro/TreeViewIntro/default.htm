<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>TreeView Introduction</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Third Party -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" />

    <!-- Wijmo -->
    <link href="styles/vendor/wijmo.min.css" rel="stylesheet" />
    <script src="scripts/vendor/wijmo.min.js"></script>
    <script src="scripts/vendor/wijmo.nav.min.js"></script>
    <script src="scripts/vendor/wijmo.odata.min.js" type="text/javascript"></script>
    <script src="scripts/vendor/wijmo.angular.min.js"></script>

    <!-- app scripts and styles -->
    <script src="scripts/DragDropTouch.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/controllers/appCtrl.js"></script>
    <script src="scripts/directives/appDctv.js"></script>
    <link rel="stylesheet" href="styles/app.css" />
</head>
<body ng-app="app" ng-controller="appCtrl">

    <div class="header">
        <div class="container">
            <img src="resources/wijmo5.png" alt="Wijmo 5" />
            <h1>
                TreeView 101
            </h1>
            <p>
                This page shows how to get started with Wijmo's TreeView control.
        </div>
    </div>

    <div class="container">

        <!-- Getting Started -->
        <div>
            <h2 id="Start">Getting Started</h2>
            <p>
                Steps for getting started with Input controls in AngularJS applications:
            </p>
            <ol>
                <li>Add references to AngularJS, Wijmo, and Wijmo's AngularJS directives.</li>
                <li>
                    Include the Wijmo 5 directives in the app module: <br />
                    <code>var app = angular.module('app', ['wj']);</code>
                </li>
                <li>Add a controller to provide data and logic.</li>
                <li>Add a Wijmo Input control to the page and bind it to your data.</li>
                <li>(Optional) Add some CSS to customize the input control's appearance.</li>
            </ol>
            <p>
                The examples below demonstrate all this.
            </p>
            </div>

        <!-- Creating Trees -->
        <div>
            <h2>Creating Trees</h2>
            <p>
                To create trees, you will normally have to set three properties:</p>
            <ol>
                <li>
                    <b>itemsSource</b> defines the array that contains the hierarchical data.
                    Each item in the array contains information about a node and (optionally)
                    an array of child nodes.</li>
                <li>
                    <b>displayMemberPath</b> defines the name of the property in the items
                    that contains the text to be displayed in the tree nodes. By default, this
                    property is set to the string 'header'.</li>
                <li>
                    <b>childItemsPath</b> defines the name of the property in the items that
                    contains the array of child nodes. By default, this property is set to the
                    string 'items'.</li>
            </ol>
            <p>
                There are also properties for binding node images, checkboxes, and collapsed
                state to the <b>itemsSource</b> array.</p>
            <p>
                By default, the TreeView expands the first node of each level when it loads
                the tree. You can customize that behavior using the <b>collapsedMemberPath</b>
                property to control the collapsed state of each node, or call the
                <b>collapseToLevel</b> method after the tree is loaded to collapse all nodes
                deeper than the level you want to show.</p>
            <p>
                Once the tree is loaded, you can select, collapse, or expand nodes using the
                mouse or the keyboard. You can also use the keyboard to search for nodes.</p>
            <p>
                The TreeView control uses animations to expand and collapse nodes by default.
                You can turn this feature off by setting the <b>isAnimated</b> property to
                false.</p>
            <p>
                It also collapses sibling nodes automatically when a node is expanded.
                You can turn this feature off by setting the <b>autoCollapse</b> property
                to false.</p>
            <p>
                By default, the TreeView control expands collapsed nodes when the user
                clicks anywhere on the node. You can change this by setting the
                <b>ExpandOnClick</b> property to false, in which case only clicks
                on the collapsed/expanded glyph will affect the collapsed state.</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
 &lt;!DOCTYPE html&gt;
 &lt;html&gt;
 &lt;head&gt;
     &lt;link rel="stylesheet" href="css/bootstrap.css"/&gt;
     &lt;link rel="stylesheet" href="css/wijmo.css"/&gt;
     &lt;link href="css/app.css" rel="stylesheet"/&gt;
     &lt;script src="scripts/angular.js"&gt;&lt;/script&gt;
     &lt;script src="scripts/wijmo.js"&gt;&lt;/script&gt;
     &lt;script src="scripts/wijmo.nav.js"&gt;&lt;/script&gt;
     &lt;script src="scripts/wijmo.angular.js"&gt;&lt;/script&gt;
     &lt;script src="scripts/app.js"&gt;&lt;/script&gt;
 &lt;/head&gt;
 &lt;body ng-app="app" ng-controller="appCtrl"&gt;

 &lt;!-- this is the InputNumber directive --&gt;
    &lt;wj-tree-view control="tv"
        items-source="items"
        display-member-path="'header'"
        child-items-path="'items'"
        is-animated="isAnimated"
        auto-collapse="autoCollapse"
        expandOn-click="expandOnClick"&gt;
    &lt;/wj-tree-view&gt;
    &lt;div&gt;
        &lt;button id="btnCollapse" class="btn btn-default" ng-click="tv.collapseToLevel(0);"&gt;Collapse All&lt;/button&gt;
        &lt;button id="btnExpand" class="btn btn-default" ng-click="tv.collapseToLevel(1000);"&gt;Expand All&lt;/button&gt;
    &lt;/div&gt;
    &lt;br /&gt;
    &lt;label&gt;
        &lt;input id="chkIsAnimated" type="checkbox" ng-model="tv.isAnimated" /&gt; isAnimated
    &lt;/label&gt;
    &lt;br /&gt;
    &lt;label&gt;
        &lt;input id="chkAutoCollapse" type="checkbox" ng-model="tv.autoCollapse" /&gt; autoCollapse
    &lt;/label&gt;
    &lt;br /&gt;
    &lt;label&gt;
        &lt;input id="chkExpandOnClick" type="checkbox" ng-model="tv.expandOnClick" /&gt; expandOnClick
    &lt;/label&gt;

 &lt;/body&gt;
 &lt;/html&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
// declare app module
var app = angular.module('app', ['wj']);

// app controller provides data
app.controller('appCtrl', function appCtrl($scope) {
        $scope.items = [
            {
                header: 'Electronics', img: 'resources/electronics.png', items: [
                  { header: 'Trimmers/Shavers' },
                  { header: 'Tablets' },
                  {
                      header: 'Phones', img: 'resources/phones.png', items: [
                        { header: 'Apple' },
                        { header: 'Motorola', newItem: true },
                        { header: 'Nokia' },
                        { header: 'Samsung' }
                      ]
                  },
                  { header: 'Speakers', newItem: true },
                  { header: 'Monitors' }
                ]
            },
            {
                header: 'Toys', img: 'resources/toys.png', items: [
                  { header: 'Shopkins' },
                  { header: 'Train Sets' },
                  { header: 'Science Kit', newItem: true },
                  { header: 'Play-Doh' },
                  { header: 'Crayola' }
                ]
            },
            {
                header: 'Home', img: 'resources/home.png', items: [
                  { header: 'Coffeee Maker' },
                  { header: 'Breadmaker', newItem: true },
                  { header: 'Solar Panel', newItem: true },
                  { header: 'Work Table' },
                  { header: 'Propane Grill' }
                ]
            }
        ];
        $scope.isAnimated = true;
        $scope.autoCollapse = true;
        $scope.expandOnClick = true;
});

                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="CSS">
                            <div class="pane-content">
/* default trees on this sample */
.wj-treeview {
    height: 350px;
    font-size: 120%;
    margin-bottom: 8px;
    background: white;
    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tv"
                        items-source="items"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        is-animated="isAnimated"
                        auto-collapse="autoCollapse"
                        expandOn-click="expandOnClick">
                    </wj-tree-view>
                    <div>
                        <button id="btnCollapse" class="btn btn-default" ng-click="tv.collapseToLevel(0);">Collapse All</button>
                        <button id="btnExpand" class="btn btn-default" ng-click="tv.collapseToLevel(1000);">Expand All</button>
                    </div>
                    <br />
                    <label>
                        <input id="chkIsAnimated" type="checkbox" ng-model="tv.isAnimated" /> isAnimated
                    </label>
                    <br />
                    <label>
                        <input id="chkAutoCollapse" type="checkbox" ng-model="tv.autoCollapse" /> autoCollapse
                    </label>
                    <br />
                    <label>
                        <input id="chkExpandOnClick" type="checkbox" ng-model="tv.expandOnClick" /> expandOnClick
                    </label>
                </div>
            </div>
        </div>

        <!-- Styling and CSS -->
        <div>
            <h2>Styling and CSS</h2>
            <p>
                You can customize the appearance of the TreeView using CSS.</p>
            <p>
                This example changes the collapse/expand icons, uses different
                font sizes depending on node level, and adds a vertical bar to
                the left of the level one nodes.</p>
            <p>
                Use the checkbox below the TreeView to toggle the custom style
                and see the difference.</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvCss"
    ng-class="useCustomCss?'custom-tree':''"
    items-source="items"
    display-member-path="'header'"
    child-items-path="'items'"&gt;
 &lt;/wj-tree-view&gt;
 &lt;label&gt;
    &lt;input id="tvCssCheck" type="checkbox" checked="checked" ng-model="useCustomCss" /&gt;
    Use custom CSS
 &lt;/label&gt;
         </div>
                            </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
$scope.useCustomCss = true;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="CSS">
                            <div class="pane-content">
/* custom tree styles */
.custom-tree.wj-treeview {
    color: #80044d;
}

/* level 0 and deeper nodes */
.custom-tree.wj-treeview .wj-nodelist > .wj-node {
    font-size: 120%;
}

/* level 1 and deeper nodes (larger font, vertical line along the left) */
.custom-tree.wj-treeview .wj-nodelist > .wj-nodelist > .wj-node,
.custom-tree.wj-treeview .wj-nodelist > .wj-nodelist > .wj-nodelist {
    font-size: 110%;
    border-left: 4px solid rgba(128, 4, 77, 0.3);
}

/* level 2 and deeper nodes (smaller font, thinner border) */
.custom-tree.wj-treeview .wj-nodelist > .wj-nodelist  > .wj-nodelist > .wj-node,
.custom-tree.wj-treeview .wj-nodelist > .wj-nodelist  > .wj-nodelist > .wj-nodelist {
    font-size: 100%;
    border-left: 2px solid rgba(128, 4, 77, 0.3);
}

/* expanded node glyph */
.custom-tree.wj-treeview .wj-nodelist .wj-node:before { 
    content: "\e114";
    font-family: 'Glyphicons Halflings';
    top: 4px;
    border: none;
    opacity: .3;
    transition: all .3s cubic-bezier(.4,0,.2,1);
}

/* collapsed node glyph */
.custom-tree.wj-treeview .wj-nodelist .wj-node.wj-state-collapsed:before,
.custom-tree.wj-treeview .wj-nodelist .wj-node.wj-state-collapsing:before {
    transform: rotate(-180deg);
    transition: all .3s cubic-bezier(.4,0,.2,1);
}
                                </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvCss"
                        ng-class="useCustomCss ? 'custom-tree' : ''"
                        items-source="items"
                        display-member-path="'header'"
                        child-items-path="'items'">
                    </wj-tree-view>
                    <label>
                        <input id="tvCssCheck" type="checkbox" checked="checked" ng-model="useCustomCss" />
                        Use custom CSS
                    </label>
                </div>
            </div>
        </div>

        <!-- Navigation Trees -->
        <div>
            <h2>Navigation Trees</h2>
            <p>
                The simplest and most common use for the TreeView control is navigation.
                The TreeView's hierarchical structure and auto-search functionality make
                it easy for users to drill-down and find the items they are interested in.</p>
            <p>
                You can use the <b>selectedItemChanged</b> or <b>itemClicked</b> events
                for navigation. The difference is that <b>selectedItemChanged</b> occurs
                when the user moves the selection with the keyboard, and <b>itemClicked</b>
                occurs when the user clicks an item or presses the Enter key.</p>
            <p>
                This example uses the <b>itemClicked</b> event:</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvNav"
    items-source="items"
    display-member-path="'header'"
    child-items-path="'items'"
    item-clicked="navTo(tvNav)"&gt;
&lt;/wj-tree-view&gt;
&lt;div id="tvNavItem" ng-bind-html="navStr" &gt;&lt;/div&gt;
        </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
$scope.navStr = '';
$scope.navTo = function (treeView) {
    $scope.navStr = $sce.trustAsHtml('Navigating to &lt;b&gt;*** ' + treeView.selectedItem.header + ' ***&lt;/b&gt;');
    $scope.$apply();
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvNav"
                        items-source="items"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        item-clicked="navTo(tvNav)">
                    </wj-tree-view>
                    <div id="tvNavItem" ng-bind-html="navStr"></div>
                </div>
            </div>
        </div>

        <!-- Accordion Trees -->
        <div>
            <h2>Accordion Trees</h2>
            <p>
                Accordions are multi-pane panels that keep only one panel expanded
                at a time. They are commonly used for navigation.</p>
            <p>
                You can use the TreeView control to implement accordions.</p>
            <p>
                Use CSS to customize the header display and to hide the
                collapse/expand glyphs, and make sure the <b>autoCollapse</b>
                property is set to true (the default), so non-active panels
                are automatically collapsed.</p>
            <p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvAccordion"
    class="accordion-tree"
    items-source="accordionItems"
    is-Content-html="true"
    auto-Collapse="true"&gt;
&lt;/wj-tree-view&gt;
&lt;div id="tvAccordionItem" ng-bind-html="tvAccordionStr"&gt;&lt;/div&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
$scope.tvAccordionStr = '';
$scope.$watch('tvAccordion', function () {
    /* handle clicks on accordion items */
    if (!$scope.tvAccordion) {
        return;
    }
    $scope.tvAccordion.hostElement.addEventListener('click', function (e) {
        if (e.target.tagName == 'A') {
            $scope.tvAccordionStr = $sce.trustAsHtml('Navigating to &lt;b&gt;*** ' + treeView.selectedItem.header + ' ***&lt;/b&gt;');
            $scope.$apply();
            e.preventDefault();
        }
    });
});
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="CSS">
                            <div class="pane-content">
/* accordion tree styles */
.accordion-tree.wj-treeview {
    background: transparent;
    box-shadow: none;
    height: auto;
}

/* hide collapse/expand glyphs */
.accordion-tree.wj-treeview .wj-nodelist .wj-node:before {
    display: none;
}

/* level 0 nodes (headers) */
.accordion-tree.wj-treeview .wj-nodelist > .wj-node {
    font-size: 120%;
    font-weight: bold;
    padding: 6px 10px;
    color: white;
    background: #106cc8;
    margin-bottom: 4px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
}

/* level 1 nodes (navigation items) */
.accordion-tree.wj-treeview .wj-nodelist > .wj-nodelist > .wj-node {
    font-size: inherit;
    font-weight: normal;
    padding: 4px 1em;
    color: inherit;
    background: inherit;
    box-shadow: none;
}
.accordion-tree.wj-treeview .wj-nodelist {
    padding-bottom: 6px;
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvAccordion"
                        class="accordion-tree"
                        items-source="accordionItems"
                        is-Content-html="true"
                        auto-Collapse="true">
                    </wj-tree-view>
                    <div id="tvAccordionItem" ng-bind-html="tvAccordionStr"></div>
                </div>
            </div>
        </div>

        <!-- Checkboxes -->
        <div>
            <h2>Checkboxes</h2>
            <p>
                Set the <b>showCheckboxes</b> property to true and the TreeView will
                add checkboxes to each node.</p>
            <p>
                When checkboxes are displayed, the TreeView manages their
                hierarchy so that when a checkbox is checked or cleared, the new
                value is automatically applied to all child nodes, and reflected
                on the state of the parent nodes.</p>
            <p>
                When items are checked or unchecked, the <b>checkedItemsChanged</b>
                event is raised, and the <b>checkedItems</b> property is updated
                with a list of the items that are currently checked.</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvChk"
    items-source="items"
    display-member-path="'header'"
    child-items-path="'items'"
    show-checkboxes="true"
    checked-items-changed="checkedItems(tvChk)"&gt;
&lt;/wj-tree-view&gt;
&lt;button id="btnCheckAll" class="btn btn-default" ng-click="tvChk.checkAllItems(true);"&gt;
    Check All
&lt;/button&gt;
&lt;button id="btnUncheckAll" class="btn btn-default" ng-click="tvChk.checkAllItems(false);"&gt;
    Uncheck All
&lt;/button&gt;
&nbsp;&nbsp;&nbsp;&nbsp;
&lt;button id="btnSaveState" class="btn btn-default" ng-click="saveCheckedItems(tvChk)"&gt;
    Save State
&lt;/button&gt;
&lt;button id="btnRestoreState" class="btn btn-default" ng-click="restoreCheckedItems(tvChk)"&gt;
    Restore State
&lt;/button&gt;
&lt;br/&gt;
&lt;div id="tvChkStatus" ng-bind-html="tvChkStatusStr"&gt;
&lt;/div&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
$scope.tvChkStatusStr = '';
$scope.checkedItems = function (treeView) {
    var items = treeView.checkedItems,
        msg = '';
    if (items.length) {
        msg = '&lt;p&gt;&lt;b&gt;Checked Items:  &lt;/b&gt;&lt;/p&gt;&lt;ol&gt;\r\n';
        for (var i = 0; i &lt; items.length; i++) {
            msg += '&lt;li&gt;' + items[i].header + '&lt;/li&gt;\r\n';
        }
        msg += '&lt;/ol&gt;';
    }
    $scope.tvChkStatusStr = $sce.trustAsHtml(msg);
    $scope.$apply();
}

// save checked items
var checkedItems = [];
$scope.saveCheckedItems = function(treeView) {
    checkedItems = treeView.checkedItems;
}

// restore checked items
$scope.restoreCheckedItems = function (treeView) {
    treeView.checkedItems = checkedItems || [];
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvChk"
                        items-source="items"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        show-checkboxes="true"
                        checked-items-changed="checkedItems(tvChk)">
                    </wj-tree-view>
                    <button id="btnCheckAll" class="btn btn-default" ng-click="tvChk.checkAllItems(true);">
                        Check All
                    </button>
                    <button id="btnUncheckAll" class="btn btn-default" ng-click="tvChk.checkAllItems(false);">
                        Uncheck All
                    </button>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <button id="btnSaveState" class="btn btn-default" ng-click="saveCheckedItems(tvChk)">
                        Save State
                    </button>
                    <button id="btnRestoreState" class="btn btn-default" ng-click="restoreCheckedItems(tvChk)">
                        Restore State
                    </button>
                    <br />
                    <div id="tvChkStatus"  ng-bind-html="tvChkStatusStr">
                    </div>
                </div>
            </div>
        </div>

        <!-- Images -->
        <div>
            <h2>Images</h2>
            <p>
                Use the <b>imageMemberPath</b> property to add images to nodes by specifying the
                name of a property on the data items that contains an image URL.</p>
            <p>
                For example, some our sample <b>items</b> array have an "img" property set to
                image URLs:</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvImg"
    items-source="items"
    display-member-path="'header'"
    child-items-path="'items'"
    image-member-path="'img'"&gt;
&lt;/wj-tree-view&gt;
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvImg"
                        items-source="items"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        image-member-path="'img'">
                    </wj-tree-view>
                </div>
            </div>
        </div>

        <!-- Disabled Nodes -->
        <div>
            <h2>Disabled Nodes</h2>
            <p>
                You can disable nodes using the TreeNode's <b>isDisabled</b> property.
                Disabled nodes cannot be selected using the mouse or keyboard.</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvDisable"
    items-source="items"
    display-member-path="'header'"
    child-items-path="'items'"&gt;
&lt;/wj-tree-view&gt;
&lt;button id="btnDisableNode" class="btn btn-default" ng-click="disableNode(tvDisable)"&gt;Disable Selected Node&lt;/button&gt;
&lt;button id="btnEnableAllNodes" class="btn btn-default" ng-click="enableAllNodes(tvDisable)"&gt;Enable All Nodes&lt;/button&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
// disable node
$scope.disableNode= function (treeView) {
    var nd = treeView.selectedNode;
    if (nd) {
        nd.isDisabled = true;
    }
}

// enable all nodes
$scope.enableAllNodes = function (treeView) {
    for (var nd = treeView.getFirstNode(); nd; nd = nd.next()) {
        nd.isDisabled = false;
    }
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvDisable"
                        items-source="items"
                        display-member-path="'header'"
                        child-items-path="'items'">
                    </wj-tree-view>
                    <button id="btnDisableNode" class="btn btn-default" ng-click="disableNode(tvDisable)">Disable Selected Node</button>
                    <button id="btnEnableAllNodes" class="btn btn-default" ng-click="enableAllNodes(tvDisable)">Enable All Nodes</button>
                </div>
            </div>
        </div>

        <!-- Custom Node Content -->
        <div>
            <h2>Custom Node Content</h2>
            <p>
                You can customize the content of the TreeView nodes using the <b>formatItem</b>
                event. The event handler parameters include the element that represents the node
                and the data item being rendered.</p>
            <p>
                The example below uses the <b>formatItem</b> event to add a "new" badge to the
                right of new items on the tree.</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvFmtItem"
    items-source="items"
    display-member-path="'header'"
    child-items-path="'items'"
    format-item="formatItem(s, e)"&gt;
&lt;/wj-tree-view&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
// enable all nodes
$scope.formatItem = function (s, e) {
    if (e.dataItem.newItem) {
        e.element.innerHTML +=
            '  &lt;img style="margin-left:6px;transform:rotate(-30deg)" src="resources/new.png"/&gt;';
    }
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvFmtItem"
                        items-source="items"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        format-item="formatItem(s, e)">
                    </wj-tree-view>
                </div>
            </div>
        </div>

        <!-- Lazy Loading -->
        <div>
            <h2>Lazy Loading</h2>
            <p>
                Lazy loading is useful when you are dealing with large hierarchical data sources
                and would like to avoid the delays involved in loading the entire data set at once.</p>
            <p>
                The TreeView control makes lazy-loading super easy. Only two steps are required:</p>
            <ol>
                <li>
                    Set the <b>items</b> property in the parent node data item to an empty array.
                </li>
                <li>
                    Set the TreeView's <b>lazyLoadFunction</b> property to a function to be called
                    when the user expands the node. This function takes two parameters: the parent node
                    and a callback function to be invoked when the data becomes available.
                </li>
            </ol>
            <p>
                The tree in example below starts with three lazy-loaded nodes.
                When you expand them, the <b>lazyLoadFunction</b> is invoked. The function
                uses a setTimeout to simulate an http delay and returns data for three child nodes,
                one of which is also a lazy-loaded node.</p>
            <p>
                The example also uses some CSS to animate the node icons while they are being
                loaded.</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvLazyLoad"
    items-source="lazyItems"
    display-member-path="'header'"
    child-items-path="'items'"
    lazy-load-function="lazyLoadFunction"&gt;
&lt;/wj-tree-view&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
$scope.lazyItems = [ // start with three lazy-loaded nodes
    { header: 'Lazy Node 1', items: [] },
    { header: 'Lazy Node 2', items: [] },
    { header: 'Lazy Node 3', items: [] }
];
$scope.lazyLoadFunction =function (node, callback) {
    setTimeout(function () { // simulate http delay
        var result = [ // simulate result
            { header: 'Another lazy node...', items: [] },
            { header: 'A non-lazy node without children' },
            { header: 'A non-lazy node with child nodes', items: [
                { header: 'hello' },
                { header: 'world' }
            ]}
        ];
        callback(result); // return result to control
       }, 2500); // 2.5sec http delay
    }
}
                            </div>
                        </app-tab-pane>

                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvLazyLoad"
                        items-source="lazyItems"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        lazy-load-function="lazyLoadFunction">
                    </wj-tree-view>
                </div>
            </div>
        </div>

        <!-- Lazy Loading and OData -->
        <div>
            <h2>Lazy Loading and OData</h2>
            <p>
                This example shows how you can use the TreeView control to display
                hierarchical data from OData sources.</p>
            <p>
                The sample starts by loading the Northwind employees table. When the
                data is loaded, the code adds an "Orders" empty array to each employee.
                The <b>lazyLoadFunction</b> is used to load the orders when an employee
                node is expanded.</p>
            <p>
                The orders table also adds an "Order_Details" empty array to each
                order. The <b>lazyLoadFunction</b> is used to load the order details
                when an order node is expanded.</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvLazyLoadOData"
    display-member-path="['FullName', 'ShipName', 'Summary' ]"
    child-items-path="['Orders', 'Order_Details']"
    lazy-load-function="lazyLoadODataFunction"&gt;
&lt;/wj-tree-view&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
$scope.tvLazyLoadOData = null;
var nwindService = 'http://services.odata.org/V4/Northwind/Northwind.svc';
$scope.lazyLoadFunction = function (node, callback) {
    switch (node.level) {

        // load orders for an employee
        case 0:
            var url = 'Employees(' + node.dataItem.EmployeeID + ')/Orders';
            var orders = new wijmo.odata.ODataCollectionView(nwindService, url, {
                fields: 'OrderID,ShipName,ShipCountry'.split(','),
                loaded: function () {
                    var items = orders.items.map(function (e) {
                        e.Order_Details = []; // lazy-order details
                        return e;
                    });
                    callback(items);
                }
            });
            break;

        // load extended details for an order
        case 1:
            var url = "Order_Details_Extendeds/?$filter=OrderID eq " + node.dataItem.OrderID;
            var details = new wijmo.odata.ODataCollectionView(nwindService, url, {
                fields: 'ProductName,ExtendedPrice'.split(','),
                loaded: function () {
                    var items = details.items.map(function (e) {
                        e.Summary = wijmo.format('{ProductName}: {ExtendedPrice:c}', e);
                        return e;
                    });
                    callback(items);
                }
            });
            break;

        // default
        default:
            callback(null);
    }
}

$scope.$watch('tvLazyLoadOData', function () {
    var employees = new wijmo.odata.ODataCollectionView(nwindService, 'Employees', {
        fields: 'EmployeeID,FirstName,LastName'.split(','),
        loaded: function () {
            var items = employees.items.map(function (e) {
                e.FullName = e.FirstName + ' ' + e.LastName;
                e.Orders = []; // lazy-load orders
                return e;
            });
            $scope.tvLazyLoadOData.itemsSource = items;
        }
    });
});
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="CSS">
                            <div class="pane-content">
/* level 0 nodes and deeper (employees...) */
#tvLazyLoadOData.wj-treeview .wj-nodelist > .wj-node {
    font-weight: bold;
}

/* level 1 nodes and deeper (orders...) */
#tvLazyLoadOData.wj-treeview .wj-nodelist > .wj-nodelist > .wj-node {
    font-weight: normal;
    font-size: 95%;
    color: darkblue;
}

/* level 2 nodes and deeper (order details...) */
#tvLazyLoadOData.wj-treeview .wj-nodelist > .wj-nodelist > .wj-nodelist > .wj-node {
    font-size: 90%;
    color: darkslategrey;
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvLazyLoadOData"
                        display-member-path="['FullName', 'ShipName', 'Summary' ]"
                        child-items-path="['Orders', 'Order_Details']"
                        lazy-load-function="lazyLoadODataFunction">
                    </wj-tree-view>
                </div>
            </div>
        </div>

        <!-- Drag and Drop -->
        <div>
            <h2>Drag and Drop</h2>
            <p>
                Set the <b>allowDragging</b> property to true to allow users to drag nodes to new
                positions within the TreeView.</p>
            <p>
                When dragging is allowed, users may drag any node to any position within the tree.
                You can customize this behavior by handling the TreeView drag/drop events:</p>
            <ul>
                <li>
                    <b>dragStart:</b> Occurs when a drag/drop operation is about to start. You
                    may examine the node about to be dragged and cancel the operation by
                    setting the event's <b>cancel</b> parameter to true.</li>
                <li>
                    <b>dragOver:</b> Occurs while the user drags the node over other nodes on
                    the tree. You may examine the current target node and drop position and
                    prevent the drop or modify its location setting the event's <b>cancel</b>
                    and <b>position</b> parameters.</li>
                <li>
                    <b>drop:</b> Occurs when the user drops the node into its new location.
                    You may examine the current target node and drop position and
                    prevent the drop or modify its location setting the event's <b>cancel</b>
                    and <b>position</b> parameters.</li>
                <li>
                    <b>dragEnd:</b> Occurs after the drag/drop operation is finished, even if
                    it was canceled and the source node was not moved.</li>
            </ul>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvDragDrop"
    items-source="items"
    display-member-path="'header'"
    child-items-path="'items'"
    show-checkboxes="true"
    image-member-path="'img'"
    allow-dragging="allowDragging"
    drag-start="dragStart(s,e)"
    drag-over="dragOver(s,e)"&gt;
&lt;/wj-tree-view&gt;
&lt;label&gt;
    &lt;input id="allowDragging" type="checkbox" checked="checked" ng-model="tvDragDrop.allowDragging" &gt; allowDragging
&lt;/label&gt;
&lt;br /&gt;
&lt;label&gt;
    &lt;input id="allowDraggingParentNodes" type="checkbox" checked="checked" ng-model="allowDraggingParentNodes"&gt; allow dragging parent nodes
&lt;/label&gt;
&lt;br /&gt;
&lt;label&gt;
    &lt;input id="allowDroppingIntoEmpty" type="checkbox" checked="checked" ng-model="allowDroppingIntoEmpty"&gt; allow dropping into empty nodes
&lt;/label&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
$scope.allowDraggingParentNodes = true;
$scope.allowDroppingIntoEmpty = true;

// use dragStart event to honor the allowDraggingParentNodes setting
// by setting the 'cancel' event parameter to true
$scope.dragStart = function (s, e) {
    if (e && e.node.hasChildren) {
        if (!$scope.allowDraggingParentNodes) {
            e.cancel = true; // prevent dragging parent nodes
        } else {
            e.node.isCollapsed = true; // collapse parent nodes when dragging
        }
    }
}

// use dragOver event to honor the allowDroppingIntoEmpty setting
// by changing the 'position' event parameter to 'Before'
$scope.dragOver = function (s, e) {
    if (!$scope.allowDroppingIntoEmpty &&
        !e.dropTarget.hasChildren &&
        e.position == wijmo.input.DropPosition.Into) {
            e.position = wijmo.input.DropPosition.Before;
    }
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvDragDrop"
                        items-source="items"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        show-checkboxes="true"
                        image-member-path="'img'"
                        allow-dragging="true"
                        drag-start="dragStart(s, e)"
                        drag-over="dragOver(s, e)"></wj-tree-view>
                    <label>
                        <input id="allowDragging" type="checkbox" checked="checked" ng-model="tvDragDrop.allowDragging" >
                        allowDragging
                    </label>
                    <br />
                    <label>
                        <input id="allowDraggingParentNodes" type="checkbox" checked="checked" ng-model="allowDraggingParentNodes">
                        allow dragging parent nodes
                    </label>
                    <br />
                    <label>
                        <input id="allowDroppingIntoEmpty" type="checkbox" checked="checked" ng-model="allowDroppingIntoEmpty">
                        allow dropping into empty nodes
                    </label>
                </div>
            </div>
        </div>

        <!-- Drag and Drop Between Trees -->
        <div>
            <h2>Drag and Drop Between Trees</h2>
            <p>
                Setting the <b>allowDrag</b> property to true allows users to drag and drop nodes
                within the same TreeView.</p>
            <p>
                To allow dragging and dropping nodes between different TreeView controls, you must
                handle the <b>dragOver</b> event and set the <b>cancel</b> parameter to false if
                the move is valid.</p>
            <p>
                In the example below, users can drag nodes within and between the two trees:</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvDragDrop1"
    class="short"
    items-source="dragItems1"
    display-member-path="'header'"
    child-items-path="'items'"
    allow-dragging="true"
    drag-Over="dragOverBetweenTrees(s,e)"&gt;
&lt;/wj-tree-view&gt;
&lt;wj-tree-view control="tvDragDrop2"
    class="short"
    items-source="dragItems2"
    display-member-path="'header'"
    child-items-path="'items'"
    allow-dragging="true"
    drag-over="dragOverBetweenTrees(s,e)"&gt;
&lt;/wj-tree-view&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
$scope.dragItems1 = [ 
    { header: 'Item 1.1' },
    { header: 'Item 1.2' },
    { header: 'Item 1.3' }
];
$scope.dragItems2 = [
    { header: 'Item 2.1' },
    { header: 'Item 2.2' },
    { header: 'Item 2.3' }
];

$scope.tvDragDrop1 = null;
$scope.tvDragDrop2 = null;
// allow drag/drop between tvDragDrop1 and tvDragDrop2
$scope.dragOverBetweenTrees = function (sender, e) {
    var t1 = e.dragSource.treeView;
    var t2 = e.dropTarget.treeView;
    if (t1 == $scope.tvDragDrop1 || t1 == $scope.tvDragDrop2) {
        if (t2 == $scope.tvDragDrop1 || t2 == $scope.tvDragDrop2) {
            e.cancel = false;
        }
    }
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvDragDrop1"
                        class="short"
                        items-source="dragItems1"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        allow-dragging="true"
                        drag-Over="dragOverBetweenTrees(s,e)"></wj-tree-view>
                    <wj-tree-view control="tvDragDrop2"
                        class="short"
                        items-source="dragItems2"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        allow-dragging="true"
                        drag-over="dragOverBetweenTrees(s,e)"></wj-tree-view>
                </div>
            </div>
        </div>

        <!-- Editing Nodes -->
        <div>
            <h2>Editing Nodes</h2>
            <p>
                The TreeView control provides editing support. Set the <b>isReadOnly</b> 
                property to false and users will be able to edit the content of the nodes 
                by pressing the F2 key.</p>
            <p>
                Edits made to node contents are automatically applied to the items in 
                the <b>itemsSource</b> array using the properties specified by the
                <b>displayMemberPath</b> property.</p>
            <p>
                You may customize the editing behavior using the following events:
                <b>nodeEditStarting</b>, <b>nodeEditStarted</b>, 
                <b>nodeEditEnding</b>, and <b>nodeEditEnded</b>.</p>
            <p>
                In the example below, we enable editing only for nodes that contain no 
                children. To edit, select a node and press F2:</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvEdit"
    items-source="editableItems"
    display-member-path="'header'"
    child-items-path="'items'"
    image-member-path="'img'"
    show-checkboxes="true"
    is-read-only="false"
    node-edit-starting="nodeEditStarting(s,e)"&gt;
&lt;/wj-tree-view&gt;
                            </div>
                        </app-tab-pane>
                        <app-tab-pane title="JS">
                            <div class="pane-content">
$scope.nodeEditStarting = function (s, e) {
    if (e.node.hasChildren) {
        e.cancel = true;
    }
}
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wj-tree-view control="tvEdit"
                        items-source="editableItems"
                        display-member-path="'header'"
                        child-items-path="'items'"
                        image-member-path="'img'"
                        show-checkboxes="true"
                        is-read-only="false"
                        node-edit-starting="nodeEditStarting(s,e)">
                    </wj-tree-view>
                </div>
            </div>
        </div>

        <!-- RTL support -->
        <div>
            <h2>RTL support</h2>
            <p>
                Some languages render content from the right to the left of the page 
                (Arabic and Hebrew are typical examples) .
                HTML accommodates this with the 'dir' attribute. Setting 'dir' to 'rtl' 
                on any element causes the element's content to flow from right to left.</p>
            <p>
                The TreeView supports this automatically. If the element hosting the tree 
                has the 'dir' attribute set to 'rtl', the tree will render with nodes 
                extending from right to left. You don't have to set any properties on the 
                control.</p>
            <p>
                Note that the 'dir' attribute value is inherited, so if you set it on the 
                body tag for example, the entire page will be rendered from right to left,
                including the tree.</p>
            <p>
                Note also that CSS has a 'direction' attribute that performs the same 
                function as the 'dir' element attribute. The 'dir' attribute is generally 
                considered more appropriate for several reasons, including the fact that 
                it can be used in CSS rules.</p>
            <div class="row">
                <div class="col-md-6">
                    <app-tab>
                        <app-tab-pane title="HTML">
                            <div class="pane-content">
&lt;wj-tree-view control="tvRtl"
    items-source="items"
    display-member-path="'header'"
    child-items-path="'items'"
    image-member-path="'img'"
    show-checkboxes="true"&gt;
&lt;/wj-tree-view&gt;
                            </div>
                        </app-tab-pane>
                    </app-tab>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <div dir="rtl">
                        <p>My parent element has a <b>dir="rtl"</b> attribute!</p>
                        <wj-tree-view control="tvRtl"
                            items-source="items"
                            display-member-path="'header'"
                            child-items-path="'items'"
                            image-member-path="'img'"
                            show-checkboxes="true">
                        </wj-tree-view>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Google analytics -->
    
    <script src="http://cdn.wijmo.com/wijmo.sample.toolbar.js" type="text/javascript"></script>
</body>
</html>